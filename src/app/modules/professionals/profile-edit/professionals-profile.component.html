<div class="card card-custom gutter-b">
    <ng-container *ngIf="isLoading$ | async">
        <div class="progress progress-modal">
            <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
    </ng-container>

    <div class="card-header">
        <div class="card-title">
            <h3 class="card-label">
                <ng-container *ngIf="professionalProfile">
                    {{ id ? "Edit" : "New" }} Professional Profile
                    <span *ngIf="professionalProfile && professionalProfile.id">'{{ professionalProfile.lastName }}, {{ professionalProfile.firstName }}'</span>
                </ng-container>
            </h3>
        </div>
        <div class="card-toolbar">
            <a type="button" class="btn btn-light" routerLink="/professionals/listing">
                <i class="fa fa-arrow-left"></i>Back
            </a>
            <button class="btn btn-secondary ml-2" (click)="reset()">
          <i class="fa fa-redo"></i>Reset
        </button>
        </div>
    </div>
    <div class="card-body">
        <ul class="nav nav-tabs nav-tabs-line" role="tablist">
            <li class="nav-item cursor-pointer" (click)="changeTab(tabs.BASIC_TAB)">
                <a class="nav-link" data-toggle="tab" role="tab" [attr.aria-selected]="activeTabId === tabs.BASIC_TAB" [class.active]="activeTabId === tabs.BASIC_TAB">
            Personal Info
          </a>
            </li>
            <li *ngIf="professionalProfile && professionalProfile.id" class="nav-item cursor-pointer" (click)="changeTab(tabs.DOCUMENTS_TAB)">
                <a class="nav-link" data-toggle="tab" role="button" [attr.aria-selected]="activeTabId === tabs.DOCUMENTS_TAB" [class.active]="activeTabId === tabs.DOCUMENTS_TAB">Documents</a>
            </li>
            <li *ngIf="professionalProfile && professionalProfile.id" class="nav-item cursor-pointer" (click)="changeTab(tabs.COMPLIANCE_TAB)">
                <a class="nav-link" data-toggle="tab" role="tab" [attr.aria-selected]="activeTabId === tabs.COMPLIANCE_TAB" [class.active]="activeTabId === tabs.COMPLIANCE_TAB">Compliance Reports</a>
            </li>
            <li *ngIf="professionalProfile && professionalProfile.id" class="nav-item cursor-pointer" (click)="changeTab(tabs.RESUME_TAB)">
                <a class="nav-link" data-toggle="tab" role="tab" [attr.aria-selected]="activeTabId === tabs.RESUME_TAB" [class.active]="activeTabId === tabs.RESUME_TAB">Resume</a>
            </li>
            <li *ngIf="professionalProfile && professionalProfile.id" class="nav-item cursor-pointer" (click)="changeTab(tabs.JOBS_TAB)">
                <a class="nav-link" data-toggle="tab" role="tab" [attr.aria-selected]="activeTabId === tabs.JOBS_TAB" [class.active]="activeTabId === tabs.JOBS_TAB">Jobs</a>
            </li>
            <li *ngIf="professionalProfile && professionalProfile.id" class="nav-item cursor-pointer" (click)="changeTab(tabs.SETTINGS_TAB)">
                <a class="nav-link" data-toggle="tab" role="tab" [attr.aria-selected]="activeTabId === tabs.SETTINGS_TAB" [class.active]="activeTabId === tabs.SETTINGS_TAB">Settings</a>
            </li>
            <li *ngIf="professionalProfile && professionalProfile.id" class="nav-item cursor-pointer" (click)="changeTab(tabs.BILLING_TAB)">
                <a class="nav-link" data-toggle="tab" role="tab" [attr.aria-selected]="activeTabId === tabs.BILLING_TAB" [class.active]="activeTabId === tabs.BILLING_TAB">Plan / Billing</a>
            </li>
        </ul>

        <ng-container *ngIf="activeTabId === tabs.BASIC_TAB">
            <div class="mt-5" *ngIf="professionalProfile">
                <form action="#" class="form form-label-right" [formGroup]="formGroup" (ngSubmit)="save()">
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="card-body pt-4">
                                <!--begin::User-->
                                <div class="d-flex align-items-center">
                                    <div class="symbol symbol-60 symbol-xxl-100 mr-5 align-self-start align-self-xxl-center">
                                        <div class="symbol-label" style="background-image:url('/metronic/theme/html/demo1/dist/assets/media/users/300_13.jpg')"></div>
                                        <i class="symbol-badge bg-success"></i>
                                    </div>
                                </div>
                                <!--end::User-->
                                <!--begin::Contact-->
                                <div class="pt-8 pb-6">
                                    <div class="form-group">
                                        <label>Legal Name:</label>
                                        <input type="text" class="form-control form-control-md form-control-solid" disabled autocomplete="off" formControlName="legalName" value="{{professionalProfile.firstName}} {{professionalProfile.lastName}}" />
                                    </div>
                                    <div class="d-flex align-items-center justify-content-between mb-2">
                                        <span class="font-weight-bold mr-2">Created On:</span>
                                        <span class="text-muted">44(76)34254578</span>
                                    </div>
                                    <div class="d-flex align-items-center justify-content-between mb-2">
                                        <span class="font-weight-bold mr-2">Created By:</span>
                                        <span class="text-muted">Carlsbad, California</span>
                                    </div>
                                    <div class="d-flex align-items-center justify-content-between mb-2">
                                        <span class="font-weight-bold mr-2">Last Updated On:</span>
                                        <span class="text-muted">44(76)34254578</span>
                                    </div>
                                    <div class="d-flex align-items-center justify-content-between">
                                        <span class="font-weight-bold mr-2">Last Updated By:</span>
                                        <span class="text-muted">Carlsbad, California</span>
                                    </div>
                                </div>
                                <!--end::Contact-->
                            </div>
                            <!--end::Body-->
                            <!--end::Card-->
                        </div>
                        <div class="col-lg-8">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>First Name</label>
                                        <input type="text" class="form-control form-control-md form-control-solid" autocomplete="off" placeholder="First Name" name="firstName" [class.is-invalid]="isControlInvalid('firstName')" [class.is-valid]="isControlValid('firstName')" formControlName="firstName" />
                                        <div class="invalid-feedback" *ngIf="controlHasError('required', 'firstName')">First Name is required</div>
                                    </div>
                                    <div class="form-group">
                                        <label>Last Name</label>
                                        <input type="text" class="form-control form-control-md form-control-solid" autocomplete="off" placeholder="Last Name" name="lastName" [class.is-invalid]="isControlInvalid('lastName')" [class.is-valid]="isControlValid('lastName')" formControlName="lastName" />
                                        <div class="invalid-feedback" *ngIf="controlHasError('required', 'lastName')">Last Name is required</div>
                                    </div>
                                    <div class="form-group">
                                        <label>Profession</label>
                                        <select class="form-control form-control-lg form-control-solid" name="professionId">
                                          <option value="">Please select <b>Profession</b></option>
                                          <!-- <option [value]="profesion.id" *ngFor="let profesion of professionList"> {{profesion.professionName}} </option> -->
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Expertise</label>
                                        <select class="form-control form-control-lg form-control-solid" name="specialtyId">
                                        <option value="">Please select <b>Expertise</b></option>
                                        <!-- <option  *ngFor="let expert of expertiseList" [value]="expert.id">{{expert.specialtyName}}</option> -->
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Date of Birth</label>
                                        <input type="text" class="form-control form-control-md form-control-solid" autocomplete="off" placeholder="Date of Birth" name="dob" [class.is-invalid]="isControlInvalid('dob')" [class.is-valid]="isControlValid('dob')" formControlName="dob" />
                                        <div class="invalid-feedback" *ngIf="controlHasError('required', 'dob')">Date of Birth is required</div>
                                    </div>
                                    <div class="form-group">
                                        <label>Social Security Number</label>
                                        <input type="text" class="form-control form-control-md form-control-solid" autocomplete="off" placeholder="SSN" name="ssn" [class.is-invalid]="isControlInvalid('ssn')" [class.is-valid]="isControlValid('ssn')" formControlName="ssn" />
                                        <div class="invalid-feedback" *ngIf="controlHasError('required', 'ssn')">Social Security Number is required</div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Phone</label>
                                        <input type="text" class="form-control form-control-md form-control-solid" autocomplete="off" placeholder="phoneNumber" name="phoneNumber" [class.is-invalid]="isControlInvalid('phoneNumber')" [class.is-valid]="isControlValid('phoneNumber')" formControlName="phoneNumber" />
                                        <div class="invalid-feedback" *ngIf="controlHasError('required', 'phoneNumber')">Phone is required</div>
                                    </div>
                                    <div class="form-group">
                                        <label>Email</label>
                                        <input type="text" class="form-control form-control-md form-control-solid" autocomplete="off" placeholder="email" name="email" [class.is-invalid]="isControlInvalid('email')" [class.is-valid]="isControlValid('email')" formControlName="email" />
                                        <div class="invalid-feedback" *ngIf="controlHasError('required', 'email')">Website is required</div>
                                    </div>
                                    <div class="form-group">
                                        <label>Address Line 1</label>
                                        <input type="text" class="form-control form-control-md form-control-solid" autocomplete="off" placeholder="Address Line 1" name="addressLine1" [class.is-invalid]="isControlInvalid('addressLine1')" [class.is-valid]="isControlValid('addressLine1')" formControlName="addressLine1" />
                                        <div class="invalid-feedback" *ngIf="controlHasError('required', 'addressLine1')">Address Line 1 is required</div>
                                    </div>
                                    <div class="form-group">
                                        <label>Address Line 2</label>
                                        <input type="text" class="form-control form-control-md form-control-solid" autocomplete="off" placeholder="Address Line 2" name="addressLine2" [class.is-invalid]="isControlInvalid('addressLine2')" [class.is-valid]="isControlValid('addressLine2')" formControlName="addressLine2" />
                                        <div class="invalid-feedback" *ngIf="controlHasError('required', 'addressLine2')">Name is required</div>
                                    </div>
                                    <div class="form-group">
                                        <label>City</label>
                                        <input type="text" class="form-control form-control-md form-control-solid" autocomplete="off" placeholder="Name" name="city" [class.is-invalid]="isControlInvalid('city')" [class.is-valid]="isControlValid('city')" formControlName="city" />
                                        <div class="invalid-feedback" *ngIf="controlHasError('required', 'city')">City is required</div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-lg-6">
                                            <label>State</label>
                                            <input type="text" class="form-control form-control-md form-control-solid" autocomplete="off" placeholder="Name" name="state" [class.is-invalid]="isControlInvalid('state')" [class.is-valid]="isControlValid('state')" formControlName="state" />
                                            <div class="invalid-feedback" *ngIf="controlHasError('required', 'state')">State is required</div>
                                        </div>
                                        <div class="col-lg-6">
                                            <label>Zip Code</label>
                                            <input type="text" class="form-control form-control-md form-control-solid" autocomplete="off" placeholder="Name" name="postalCode" [class.is-invalid]="isControlInvalid('postalCode')" [class.is-valid]="isControlValid('postalCode')" formControlName="postalCode" />
                                            <div class="invalid-feedback" *ngIf="controlHasError('required', 'postalCode')">Postal Code is required</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="float-right">
                        <a class="btn btn-default font-weight-bold mr-2" routerLink="/documents/professionalProfiles">Cancel</a>
                        <button type="submit" class="btn btn-primary font-weight-bold mr-2" [disabled]="formGroup.invalid">Save</button>
                    </div>
                </form>
            </div>
        </ng-container>

        <ng-container *ngIf="activeTabId === tabs.DOCUMENTS_TAB && professionalProfile && professionalProfile.id">
            <app-documentation [professionalProfileId]="professionalProfile.id"></app-documentation>
        </ng-container>

        <ng-container *ngIf="activeTabId === tabs.COMPLIANCE_TAB && professionalProfile && professionalProfile.id">
            <app-compliance-reports [professionalProfileId]="professionalProfile.id"></app-compliance-reports>
        </ng-container>

        <ng-container *ngIf="activeTabId === tabs.RESUME_TAB && professionalProfile && professionalProfile.id">
            <app-resume [professionalProfileId]="professionalProfile.id"></app-resume>
        </ng-container>

        <ng-container *ngIf="activeTabId === tabs.JOBS_TAB && professionalProfile && professionalProfile.id">
            <app-jobs [professionalProfileId]="professionalProfile.id"></app-jobs>
        </ng-container>

        <ng-container *ngIf="activeTabId === tabs.SETTINGS_TAB && professionalProfile && professionalProfile.id">
            <app-settings [professionalProfileId]="professionalProfile.id"></app-settings>
        </ng-container>

        <ng-container *ngIf="activeTabId === tabs.BILLING_TAB && professionalProfile && professionalProfile.id">
            <app-plans-billing [professionalProfileId]="professionalProfile.id"></app-plans-billing>
        </ng-container>

    </div>
</div>